import{_ as I,I as S,c as k,a as b,e as o,g as p,h as c,i as h,j as t,m as M,l as m,O as y,t as v,p as _}from"./index-dUS5mm6e.js";import{M as j}from"./ModalWrapper-DMihTpK2.js";const x={class:"call-modal-content"},B={class:"call-title"},w={class:"call-name"},N={key:1,class:"call-actions"},U={key:2,class:"call-actions"},V={__name:"IncomingCallModal",setup($){const s=S(),i=k(),d=b(),n=o(()=>i.activeModal==="incomingCall"),C=o(()=>n.value?"æ¥ç”µ":"å‘¼å«ä¸­"),r=o(()=>{var e;if(n.value){const l=(e=s.incomingCallInfo)==null?void 0:e.peerId;return l?d.contacts[l]||{id:l,name:`ç”¨æˆ· ${l.substring(0,4)}`}:null}const a=s.currentPeerId;return a?d.contacts[a]||{id:a,name:`ç”¨æˆ· ${a.substring(0,4)}`}:null}),f=o(()=>{var a;return n.value?(a=s.incomingCallInfo)!=null&&a.isScreenShare?"å±å¹•å…±äº«è¯·æ±‚":"è¯­éŸ³/è§†é¢‘ æ¥ç”µ":s.isScreenSharing?"æ­£åœ¨è¯·æ±‚å…±äº«å±å¹•...":"æ­£åœ¨å‘¼å«..."}),u=()=>{s.rejectCall()},g=()=>{s.acceptCall()};return(a,e)=>(c(),p(j,{show:_(i).activeModal==="incomingCall"||_(i).activeModal==="calling",title:C.value,onClose:u},{default:h(()=>{var l;return[t("div",x,[r.value?(c(),p(y,{key:0,entity:r.value,size:"xl",class:"call-avatar"},null,8,["entity"])):M("",!0),t("h2",B,v(f.value),1),t("p",w,v(((l=r.value)==null?void 0:l.name)||"æœªçŸ¥ç”¨æˆ·"),1),n.value?(c(),m("div",N,[t("button",{class:"btn-reject",onClick:u,title:"æ‹’ç»"},[...e[0]||(e[0]=[t("span",{class:"icon"},"ğŸ“",-1),t("span",null,"æ‹’ç»",-1)])]),t("button",{class:"btn-accept",onClick:g,title:"æ¥å¬"},[...e[1]||(e[1]=[t("span",{class:"icon"},"ğŸ“",-1),t("span",null,"æ¥å¬",-1)])])])):(c(),m("div",U,[t("button",{class:"btn-reject",onClick:u,title:"å–æ¶ˆ"},[...e[2]||(e[2]=[t("span",{class:"icon"},"ğŸ“",-1),t("span",null,"å–æ¶ˆ",-1)])])]))])]}),_:1},8,["show","title"]))}},D=I(V,[["__scopeId","data-v-4f0a6863"]]);export{D as default};
