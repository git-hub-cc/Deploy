import{_ as h,D as P,a as y,r as b,e as _,ab as k,l as u,h as p,F as S,s as x,j as r,v as A,k as C,O as w,t as G,x as I}from"./index-dUS5mm6e.js";const V={class:"ai-group-settings"},B={class:"ai-info"},D={class:"ai-name"},E=["onUpdate:modelValue"],U={class:"actions"},F=["onClick"],M=["onClick"],N={__name:"AiGroupSettings",props:{groupId:{type:String,required:!0}},setup(v){const n=v,i=P(),l=y(),a=b({}),c=_(()=>i.groups[n.groupId]),d=_(()=>c.value?c.value.members.map(e=>l.contacts[e]).filter(e=>e==null?void 0:e.isAI):[]);k(()=>{const e={};d.value.forEach(s=>{var t,o,m;e[s.id]=((o=(t=c.value)==null?void 0:t.aiPrompts)==null?void 0:o[s.id])??((m=s.aiConfig)==null?void 0:m.systemPrompt)??""}),a.value=e});const g=e=>{const s=a.value[e];i.updateGroupAiPrompt(n.groupId,e,s)},f=e=>{var t,o;const s=((o=(t=l.contacts[e])==null?void 0:t.aiConfig)==null?void 0:o.systemPrompt)??"";a.value[e]=s,i.updateGroupAiPrompt(n.groupId,e,s)};return(e,s)=>(p(),u("div",V,[(p(!0),u(S,null,x(d.value,t=>(p(),u("div",{key:t.id,class:"ai-setting-item"},[r("div",B,[C(w,{entity:t,size:"medium"},null,8,["entity"]),r("span",D,G(t.name),1)]),A(r("textarea",{"onUpdate:modelValue":o=>a.value[t.id]=o,class:"prompt-textarea",rows:"4",placeholder:"输入此AI在群组中的特定行为指示..."},null,8,E),[[I,a.value[t.id]]]),r("div",U,[r("button",{class:"btn-secondary",onClick:o=>f(t.id)},"重置为默认",8,F),r("button",{class:"btn-primary",onClick:o=>g(t.id)},"保存指示",8,M)])]))),128))]))}},j=h(N,[["__scopeId","data-v-cb262c78"]]);export{j as default};
