const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./TtsSettings-Ddqpt-hi.js","./index-dUS5mm6e.js","./index-5uDYxhLe.css","./TtsSettings-BQv02o5b.css"])))=>i.map(i=>d[i]);
import{_ as D,r as N,a as E,E as F,e as p,l,h as s,m,j as a,F as P,s as M,t as d,p as B,q as x,n as f,k,Y as w,U,Z as G,b as L,c as R,u as O,a5 as q,g as V,O as z,M as j,A as H,f as Y}from"./index-dUS5mm6e.js";import{R as Z}from"./ResourcePreview-Coimu1VB.js";const J={class:"ai-settings-section"},K={key:0,class:"setting-block"},Q=["value"],W=["value","title"],X={class:"setting-block"},ee={key:0,class:"empty-memory"},te={key:1,class:"memory-book-list"},ae={class:"memory-header"},oe={class:"memory-name"},se={class:"memory-actions"},ne=["for"],le=["name","checked","onChange","id"],ie=["onClick"],ce=["value","onBlur"],re={class:"tts-tab-container setting-block"},de={class:"details-tabs"},ue={key:0,class:"tab-content"},ve={key:1,class:"tab-content about-tts-content"},me={__name:"AiSettings",props:{contactId:{type:String,required:!0}},setup(g){const y=w(()=>G(()=>import("./TtsSettings-Ddqpt-hi.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),u=g,v=N("tts"),h=E(),e=F(),c=p(()=>h.contacts[u.contactId]),S=p(()=>{var n;return((n=c.value)==null?void 0:n.selectedChapterId)||""}),C=p(()=>{var n;return(n=c.value)!=null&&n.chapters?c.value.chapters.map(t=>({...t,displayName:t.name.length>50?`${t.name.substring(0,50)}...`:t.name})):[]}),I=n=>{const t=n.target.value===""?null:n.target.value;h.setSelectedChapterForAI(u.contactId,t)},T=n=>{var t,o,r;return((r=(o=(t=e.elementSets.find(A=>A.id===n))==null?void 0:t.books)==null?void 0:o[u.contactId])==null?void 0:r.content)||""},$=n=>{var t,o,r;return!!((r=(o=(t=e.elementSets.find(A=>A.id===n))==null?void 0:t.books)==null?void 0:o[u.contactId])!=null&&r.enabled)},i=(n,t)=>e.setMemoryBookEnabled(n,u.contactId,t),_=n=>e.generateMemoryBook(n,u.contactId),b=(n,t)=>e.saveMemoryBookContent(n,u.contactId,t);return(n,t)=>(s(),l("div",J,[c.value.chapters&&c.value.chapters.length>0?(s(),l("div",K,[t[3]||(t[3]=a("h4",null,"ç¯‡ç« é€‰æ‹©",-1)),a("select",{value:S.value,onChange:I,class:"chapter-select"},[t[2]||(t[2]=a("option",{value:""},"é»˜è®¤è¡Œä¸º",-1)),(s(!0),l(P,null,M(C.value,o=>(s(),l("option",{key:o.id,value:o.id,title:o.name},d(o.displayName),9,W))),128))],40,Q)])):m("",!0),a("div",X,[t[6]||(t[6]=a("h4",null,"è®°å¿†ä¹¦",-1)),B(e).elementSets.length===0?(s(),l("div",ee,[...t[4]||(t[4]=[a("p",null,'è¯·åœ¨"äº¤äº’ç®¡ç†" > "è®°å¿†ä¹¦"ä¸­æ·»åŠ è®°å¿†ä¹¦å®šä¹‰ã€‚',-1)])])):(s(),l("div",te,[(s(!0),l(P,null,M(B(e).elementSets,o=>(s(),l("div",{key:o.id,class:"memory-item"},[a("div",ae,[a("span",oe,d(o.name),1),a("div",se,[a("label",{for:`radio-${o.id}`,class:"enable-label"},[a("input",{type:"radio",name:`memory-enable-${g.contactId}`,checked:$(o.id),onChange:r=>i(o.id,r.target.checked),id:`radio-${o.id}`},null,40,le),t[5]||(t[5]=x(" å¯ç”¨ ",-1))],8,ne),a("button",{onClick:r=>_(o.id),class:"btn-action"},"è®°å½•",8,ie)])]),a("textarea",{value:T(o.id),onBlur:r=>b(o.id,r.target.value),placeholder:"ç‚¹å‡»â€œè®°å½•â€ä»¥ç”Ÿæˆï¼Œæˆ–åœ¨æ­¤æ‰‹åŠ¨ç¼–è¾‘..."},null,40,ce)]))),128))]))]),a("div",re,[a("nav",de,[a("button",{class:f({active:v.value==="tts"}),onClick:t[0]||(t[0]=o=>v.value="tts")},"TTS è®¾ç½®",2),a("button",{class:f({active:v.value==="about"}),onClick:t[1]||(t[1]=o=>v.value="about")},"å…³äº TTS",2)]),v.value==="tts"?(s(),l("div",ue,[k(B(y),{"contact-id":g.contactId},null,8,["contact-id"])])):m("",!0),v.value==="about"?(s(),l("div",ve,[...t[7]||(t[7]=[U('<p data-v-5e4d6da5>æˆ‘ä»¬æ„Ÿè°¢ <strong data-v-5e4d6da5>GPT-SoVITS</strong> åŠç±»ä¼¼å¼€æº TTS é¡¹ç›®çš„å¼€å‘è€…ä¸ºå¯è®¿é—®çš„è¯­éŸ³åˆæˆæŠ€æœ¯æ‰€åšçš„è´¡çŒ®ã€‚ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹ GPT-SoVITS ç¤¾åŒºè´¡çŒ®è€… (æ’åä¸åˆ†å…ˆå)ï¼š</p><ul data-v-5e4d6da5><li data-v-5e4d6da5><strong data-v-5e4d6da5>GPT-SoVITS æ ¸å¿ƒå¼€å‘è€…:</strong> @èŠ±å„¿ä¸å“­ (FlowerNotCry)</li><li data-v-5e4d6da5><strong data-v-5e4d6da5>æ¨¡å‹è®­ç»ƒä¸åˆ†äº«:</strong> @çº¢è¡€çƒAE3803 (RedBloodCellAE3803), @ç™½èœå·¥å‚1145å·å‘˜å·¥ (CabbageFactoryEmployee1145)</li><li data-v-5e4d6da5><strong data-v-5e4d6da5>æ¨ç†ä¼˜åŒ–ä¸åœ¨çº¿æœåŠ¡ (GSV AI Lab):</strong> @AI-Hobbyist</li></ul><p class="disclaimer" data-v-5e4d6da5>ç”¨æˆ·æœ‰è´£ä»»ç¡®ä¿éµå®ˆä»–ä»¬é…ç½®å’Œä½¿ç”¨çš„ä»»ä½• TTS API çš„æœåŠ¡æ¡æ¬¾ã€‚</p>',3)])])):m("",!0)])]))}},pe=D(me,[["__scopeId","data-v-5e4d6da5"]]),_e={key:0,class:"loading-state"},ye={class:"profile-header"},be={class:"profile-name"},ge={class:"profile-id"},he=["title"],Se={key:0,class:"about-section"},ke={class:"basic-info-list"},fe={class:"about-text"},Ce={key:2,class:"actions"},Ie={key:0},Te={class:"resource-section"},$e={__name:"UserProfile",setup(g){const y=E(),u=L(),v=R(),h=O(),e=p(()=>y.contacts[u.currentChatId]),c=p(()=>e.value?y.getContactCombinedStatus(e.value.id):{}),S=p(()=>{const i=c.value.connectionType;return i==="p2p"||i==="p2p-lan"?"âš¡":i==="relay"?"â˜ï¸":null}),C=p(()=>{const i=c.value.connectionType;return i==="p2p"?"P2P ç›´è¿":i==="p2p-lan"?"å±€åŸŸç½‘ç›´è¿":i==="relay"?"æœåŠ¡å™¨ä¸­ç»§":""}),I=p(()=>!e.value||e.value.isImported?!1:h.currentSpecialContacts.some(i=>i.id===e.value.id));function T(){e.value&&(H.emit("showNotification",{message:`æ­£åœ¨ä¸º ${e.value.name} å°è¯•é‡æ–°è¿æ¥...`,type:"info"}),Y.restartIce(e.value.id))}const $=()=>{v.showConfirmationModal({message:`ç¡®å®šè¦åˆ é™¤è”ç³»äºº "${e.value.name}" å—ï¼Ÿæ­¤æ“ä½œä¸å¯é€†ã€‚`,onConfirm:()=>{y.removeContact(e.value.id).then(i=>{i&&v.toggleDetailsPanel(!1)})}})};return(i,_)=>e.value?(s(),l("div",{key:1,class:f(["user-profile-section",{"character-active":e.value.isSpecial,[e.value.id]:e.value.isSpecial}])},[a("div",ye,[k(z,{entity:e.value,size:"xl",class:"profile-avatar","is-online":c.value.isOnlineDisplay},null,8,["entity","is-online"]),a("h2",be,d(e.value.name),1),a("p",ge,"ID: "+d(e.value.id),1),a("p",{class:f(["profile-status",c.value.statusClass])},[S.value?(s(),l("span",{key:0,class:"connection-icon",title:C.value},d(S.value),9,he)):m("",!0),x(" "+d(c.value.statusText)+" ",1),c.value.connectionType==="relay"?(s(),V(j,{key:1,icon:"ğŸ”„",title:"å°è¯•é‡æ–°è¿æ¥ä»¥å»ºç«‹ç›´è¿",class:"reconnect-button",onClick:T})):m("",!0)],2)]),_[0]||(_[0]=a("hr",null,null,-1)),e.value.isAI&&e.value.aboutDetails?(s(),l("div",Se,[a("h4",null,"å…³äº "+d(e.value.aboutDetails.nameForAbout||e.value.name),1),a("ul",ke,[(s(!0),l(P,null,M(e.value.aboutDetails.basicInfo,b=>(s(),l("li",{key:b.label},[a("strong",null,d(b.label)+":",1),x(" "+d(b.value),1)]))),128))]),a("p",fe,d(e.value.aboutDetails.aboutText),1)])):m("",!0),e.value.isAI?(s(),V(pe,{key:1,"contact-id":e.value.id},null,8,["contact-id"])):m("",!0),!I.value||e.value.isImported?(s(),l("div",Ce,[e.value.isAI?(s(),l("hr",Ie)):m("",!0),a("button",{class:"btn-danger",onClick:$},"åˆ é™¤è”ç³»äºº")])):m("",!0),_[1]||(_[1]=a("hr",null,null,-1)),a("div",Te,[k(Z,{"chat-id":e.value.id},null,8,["chat-id"])])],2)):(s(),l("div",_e,[k(q,{type:"profile"})]))}},Pe=D($e,[["__scopeId","data-v-a4188c97"]]);export{Pe as default};
