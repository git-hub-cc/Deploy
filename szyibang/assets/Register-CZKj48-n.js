import{_ as R}from"./_plugin-vue_export-helper-DRcqrMy4.js";import{E as T,a as B}from"./el-form-item-BAbr5JjY.js";/* empty css                 */import{E as P,a as U}from"./el-radio-button-nIMF2d17.js";/* empty css                  */import{u as q,r as c,c as h,d as g,e as x,f as n,h as o,w as r,k as u,j as C,m as I,E as N,n as F,l as $,o as j}from"./index-Dczg_W-s.js";import"./castArray-Bkbd9iUu.js";import"./_baseClone-DlauArLD.js";import"./omit-CXgNd_Yj.js";const z={class:"register-page mobile-view-wrapper"},A={class:"header"},G={class:"form-container"},L={class:"role-content"},M={class:"role-content"},D={__name:"Register",setup(H){const w=q(),p=c(null),m=c(!1),l=h({phone:"",nickname:"",password:"",confirmPassword:"",roleType:1}),v={roleType:[{required:!0,message:"请选择角色",trigger:"change"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}],password:[{required:!0,min:6,message:"密码至少6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(d,e,a)=>{e!==l.password?a(new Error("两次输入密码不一致")):a()},trigger:"blur"}]};async function b(){p.value&&await p.value.validate(async d=>{if(d){m.value=!0;try{await F({phone:l.phone,password:l.password,roleType:l.roleType,nickname:l.nickname}),$.success("注册成功，请登录"),w.push("/login")}finally{m.value=!1}}})}return(d,e)=>{const a=C,y=g("User"),f=I,_=U,V=g("Bicycle"),k=P,t=T,i=N,E=B;return j(),x("div",z,[n("div",A,[o(a,{link:"",icon:"ArrowLeft",onClick:e[0]||(e[0]=s=>d.$router.back())},{default:r(()=>[...e[6]||(e[6]=[u("返回",-1)])]),_:1}),e[7]||(e[7]=n("h2",null,"注册新账号",-1))]),n("div",G,[o(E,{ref_key:"formRef",ref:p,model:l,rules:v,size:"large","label-position":"top"},{default:r(()=>[o(t,{label:"我是",prop:"roleType"},{default:r(()=>[o(k,{modelValue:l.roleType,"onUpdate:modelValue":e[1]||(e[1]=s=>l.roleType=s),class:"role-group"},{default:r(()=>[o(_,{value:1,class:"role-item"},{default:r(()=>[n("div",L,[o(f,null,{default:r(()=>[o(y)]),_:1}),e[8]||(e[8]=u(" 求助方 ",-1))])]),_:1}),o(_,{value:2,class:"role-item"},{default:r(()=>[n("div",M,[o(f,null,{default:r(()=>[o(V)]),_:1}),e[9]||(e[9]=u(" 响应方 ",-1))])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(t,{label:"手机号",prop:"phone"},{default:r(()=>[o(i,{modelValue:l.phone,"onUpdate:modelValue":e[2]||(e[2]=s=>l.phone=s),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),o(t,{label:"昵称",prop:"nickname"},{default:r(()=>[o(i,{modelValue:l.nickname,"onUpdate:modelValue":e[3]||(e[3]=s=>l.nickname=s),placeholder:"例如：热心市民张先生"},null,8,["modelValue"])]),_:1}),o(t,{label:"密码",prop:"password"},{default:r(()=>[o(i,{modelValue:l.password,"onUpdate:modelValue":e[4]||(e[4]=s=>l.password=s),type:"password","show-password":"",placeholder:"设置6位以上密码"},null,8,["modelValue"])]),_:1}),o(t,{label:"确认密码",prop:"confirmPassword"},{default:r(()=>[o(i,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[5]||(e[5]=s=>l.confirmPassword=s),type:"password","show-password":"",placeholder:"再次输入密码"},null,8,["modelValue"])]),_:1}),o(t,null,{default:r(()=>[o(a,{type:"primary",class:"submit-btn",loading:m.value,onClick:b},{default:r(()=>[...e[10]||(e[10]=[u(" 立即注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},oe=R(D,[["__scopeId","data-v-155fb8b0"]]);export{oe as default};
