import{y as K,K as ae,bg as te,ab as U,af as z,I as se,bN as ue,a_ as k,r as f,bO as ie,p as s,bP as re,aZ as ce,an as fe,am as de,aE as M,bQ as ve,D as L,q as ye,b7 as j,bz as ge,aa as be}from"./index-Bd4-WGnv.js";import{t as me}from"./index-C585l_VU.js";const pe=Symbol("dialogInjectionKey"),V="dialog-fade",Ce=K({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:ae},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Ae={close:()=>!0},Se=K({...Ce,appendToBody:Boolean,appendTo:{type:me.to.type,default:"body"},beforeClose:{type:z(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:z([String,Object]),default:void 0}}),Ee={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[U]:l=>te(l),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},De=(l,t)=>{var T;const u=se().emit,{nextZIndex:g}=ue();let O="";const Z=k(),$=k(),i=f(!1),b=f(!1),d=f(!1),m=f((T=l.zIndex)!=null?T:g()),C=f(!1);let r,c;const P=ie(),q=s(()=>{var e,n;return(n=(e=P.value)==null?void 0:e.namespace)!=null?n:re}),v=s(()=>{var e;return(e=P.value)==null?void 0:e.dialog}),G=s(()=>{const e={},n=`--${q.value}-dialog`;if(!l.fullscreen){l.top&&(e[`${n}-margin-top`]=l.top);const o=ce(l.width);o&&(e[`${n}-width`]=o)}return e}),Q=s(()=>{var e,n,o;return((o=(n=l.draggable)!=null?n:(e=v.value)==null?void 0:e.draggable)!=null?o:!1)&&!l.fullscreen}),x=s(()=>{var e,n,o;return(o=(n=l.alignCenter)!=null?n:(e=v.value)==null?void 0:e.alignCenter)!=null?o:!1}),J=s(()=>{var e,n,o;return(o=(n=l.overflow)!=null?n:(e=v.value)==null?void 0:e.overflow)!=null?o:!1}),W=s(()=>x.value?{display:"flex"}:{}),X=s(()=>{var e,n,o;const E=(o=(n=l.transition)!=null?n:(e=v.value)==null?void 0:e.transition)!=null?o:V,ne={name:E,onAfterEnter:_,onBeforeLeave:I,onAfterLeave:B};if(fe(E)){const a={...E},D=(y,oe)=>w=>{de(y)?y.forEach(N=>{M(N)&&N(w)}):M(y)&&y(w),oe()};return a.onAfterEnter=D(a.onAfterEnter,_),a.onBeforeLeave=D(a.onBeforeLeave,I),a.onAfterLeave=D(a.onAfterLeave,B),a.name||(a.name=V),a}return ne});function _(){u("opened")}function B(){u("closed"),u(U,!1),l.destroyOnClose&&(d.value=!1),C.value=!1}function I(){C.value=!0,u("close")}function h(){c==null||c(),r==null||r(),l.openDelay&&l.openDelay>0?{stop:r}=j(()=>F(),l.openDelay):F()}function p(){r==null||r(),c==null||c(),l.closeDelay&&l.closeDelay>0?{stop:c}=j(()=>S(),l.closeDelay):S()}function A(){function e(n){n||(b.value=!0,i.value=!1)}l.beforeClose?l.beforeClose(e):p()}function Y(){l.closeOnClickModal&&A()}function F(){ge&&(i.value=!0)}function S(){i.value=!1}function H(){u("openAutoFocus")}function R(){u("closeAutoFocus")}function ee(e){var n;((n=e.detail)==null?void 0:n.focusReason)==="pointer"&&e.preventDefault()}l.lockScroll&&ve(i);function le(){l.closeOnPressEscape&&A()}return L(()=>l.zIndex,()=>{var e;m.value=(e=l.zIndex)!=null?e:g()}),L(()=>l.modelValue,e=>{var n;e?(b.value=!1,h(),d.value=!0,m.value=(n=l.zIndex)!=null?n:g(),be(()=>{u("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):i.value&&p()}),L(()=>l.fullscreen,e=>{t.value&&(e?(O=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=O)}),ye(()=>{l.modelValue&&(i.value=!0,d.value=!0,h())}),{afterEnter:_,afterLeave:B,beforeLeave:I,handleClose:A,onModalClick:Y,close:p,doClose:S,onOpenAutoFocus:H,onCloseAutoFocus:R,onCloseRequested:le,onFocusoutPrevented:ee,titleId:Z,bodyId:$,closed:b,style:G,overlayDialogStyle:W,rendered:d,visible:i,zIndex:m,transitionConfig:X,_draggable:Q,_alignCenter:x,_overflow:J,closing:C}};export{Se as a,Ae as b,Ce as c,Ee as d,pe as e,De as u};
